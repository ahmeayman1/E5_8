const questions=[ 
/* ========== MCQ (NEW SET 1) ========== */

{
  type: "mcq",
  q: "The managerial function described as 'the heart of the management process' is:",
  options: ["Planning", "Organizing", "Directing", "Controlling"],
  a: 2
},
{
  type: "mcq",
  q: "Which of the following is NOT identified as an element of the directing function?",
  options: ["Giving orders", "Supervision", "Budgeting", "Motivation"],
  a: 2
},
{
  type: "mcq",
  q: "In the context of directing, the issuance of orders and assignments primarily serves to:",
  options: [
    "Replace the need for planning",
    "Allow the subordinate to understand what is expected",
    "Eliminate the need for organizational hierarchy",
    "Centralize all decision-making"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A key reason directing is considered a pervasive function is because:",
  options: [
    "It only involves top-level executives",
    "It is required at all levels of an organization",
    "It is solely concerned with financial resources",
    "It replaces the staffing function"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Written directions are preferred over oral directions because they:",
  options: [
    "Eliminate all forms of misunderstanding",
    "Are faster to deliver in all situations",
    "Are more clear, comprehensive, and minimize duplication of effort",
    "Require less managerial oversight"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The principle of direction that ensures subordinates' interests harmonize with group interests is:",
  options: [
    "Direct Objectives",
    "Harmony of Objectives",
    "Managerial Communication",
    "Follow Through"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Which directing technique involves consulting subordinates before making a decision?",
  options: [
    "Automatic Direction",
    "Free Rein Direction",
    "Consultative Direction",
    "Directive Leadership"
  ],
  a: 2
},
{
  type: "mcq",
  q: "A significant disadvantage of the consultative direction technique is:",
  options: [
    "It demotivates employees",
    "It eliminates employee input",
    "It is time-consuming and may lead to unnecessary arguments",
    "It prevents the use of subordinate knowledge"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The free rein technique of direction is characterized by:",
  options: [
    "Detailed instructions on task performance",
    "Encouraging subordinate initiative and independent thought",
    "Issuing direct and precise orders",
    "Mandatory consultation at every decision point"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Directing is described as a continuous activity because:",
  options: [
    "It is only performed during crises",
    "It is confined to employee training periods",
    "It takes place every day in organizations",
    "It stops once plans are formulated"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The primary focus of the 'Follow Through' principle is to:",
  options: [
    "Initiate new projects",
    "Monitor enforcement of directions and policies",
    "Create new organizational objectives",
    "Replace communication lines"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Which characteristic of directing links it to converting plans into performance?",
  options: [
    "Pervasive Function",
    "Continuous Activity",
    "Creative Activity",
    "Executive Function"
  ],
  a: 2
},
{
  type: "mcq",
  q: "When giving orders, a manager should ensure the order is:",
  options: [
    "Complex to demonstrate expertise",
    "Based on situation demands and given with appropriate tone",
    "Delivered exclusively in written form",
    "Issued without explanation"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Supervision is best defined as:",
  options: [
    "Financial auditing",
    "Guiding and directing employee efforts",
    "Exclusive top management responsibility",
    "Separate from directing"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Motivation is the complex force that:",
  options: [
    "Replaces leadership",
    "Starts and keeps a person at work",
    "Is solely financial",
    "Is irrelevant in organizations"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A major importance of motivation is that it:",
  options: [
    "Eliminates communication",
    "Reduces turnover and absenteeism",
    "Centralizes decisions",
    "Focuses only on material resources"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Leadership is defined as the ability to:",
  options: [
    "Control finances",
    "Inspire and influence others",
    "Perform all tasks personally",
    "Function without subordinates"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A core importance of leadership is that it:",
  options: [
    "Reduces training needs",
    "Builds morale and productivity",
    "Eliminates hierarchy",
    "Is crisis-only"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Communication in directing is critical because it:",
  options: [
    "Is one-way only",
    "Enables delegation and decentralization",
    "Replaces formal orders",
    "Is solely non-verbal"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The control process is fundamentally about:",
  options: [
    "Eliminating autonomy",
    "Setting standards, measuring performance, and corrective action",
    "Replacing planning",
    "Financial focus only"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Who is responsible for control activities?",
  options: [
    "Only top management",
    "Only external auditors",
    "Managers at all levels",
    "Human resources only"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The first step in the control process is:",
  options: [
    "Corrective action",
    "Measuring performance",
    "Establishing objectives and standards",
    "Comparing results"
  ],
  a: 2
},
{
  type: "mcq",
  q: "An example of an input standard in a hospital is:",
  options: [
    "Infection rate below 2%",
    "Providing 4 beds per 1000 population",
    "Patient satisfaction above 90%",
    "Revenue growth of 10%"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The primary purpose of measuring performance is to:",
  options: [
    "Assign blame",
    "Spot deviations from standards",
    "Eliminate planning",
    "Justify salaries"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Management-by-Exception focuses on:",
  options: [
    "All activities equally",
    "Significant deviations from standards",
    "Eliminating standards",
    "Only positive deviations"
  ],
  a: 1
},
{
  type: "mcq",
  q: "An effective control system is:",
  options: [
    "Complex",
    "Always costly",
    "Strategic and timely",
    "Rigid"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Preliminary (feed-forward) controls aim to:",
  options: [
    "Correct problems after work",
    "Monitor operations",
    "Prevent problems before work begins",
    "Analyze past data"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Concurrent controls are applied:",
  options: [
    "After completion",
    "During planning",
    "While activity is in progress",
    "During annual reviews"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Feedback controls are valuable because they:",
  options: [
    "Prevent all errors",
    "Evaluate planning effectiveness after action",
    "Replace motivation",
    "Are least popular"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Internal controls are enhanced when:",
  options: [
    "Decisions are centralized",
    "Capable people have clear objectives and resources",
    "Supervision is intrusive",
    "No delegation exists"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A primary importance of control is that it:",
  options: [
    "Is independent of planning",
    "Facilitates delegation monitoring",
    "Eliminates uncertainty",
    "Replaces motivation"
  ],
  a: 1
},
{
  type: "mcq",
  q: "One role of control is to:",
  options: [
    "Create complexity",
    "Detect irregularities",
    "Eliminate risk",
    "Centralize flow"
  ],
  a: 1
},
{
  type: "mcq",
  q: "An example of a management process control system is:",
  options: [
    "Liquidity ratios",
    "Pay for performance",
    "Organizational culture",
    "Fringe benefits"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Employee discipline systems aim to:",
  options: [
    "Punish equally",
    "Use least extreme reprimand",
    "Eliminate appraisals",
    "Ignore policies"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Problem solving differs from decision making because it is:",
  options: [
    "Broader",
    "A systematic process ending with a solution",
    "Unrelated to management",
    "Crisis-only"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Decision making occurs at which step of problem solving?",
  options: [
    "Identifying the problem",
    "Exploring alternatives",
    "Selecting the appropriate solution",
    "Evaluating results"
  ],
  a: 2
},
{
  type: "mcq",
  q: "A crisis problem is:",
  options: [
    "Routine",
    "Unexpected and potentially disastrous",
    "Information-rich",
    "Programmed"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Programmed decisions are used for:",
  options: [
    "Novel situations",
    "Routine problems with standard responses",
    "Crisis management",
    "Strategic planning"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A key characteristic of a successful decision maker is:",
  options: [
    "Risk avoidance",
    "Sensitivity to situations and others",
    "Reliance only on past data",
    "Resistance to creativity"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The first step in decision making is to:",
  options: [
    "Implement solution",
    "Identify and define the problem",
    "Evaluate results",
    "Choose action"
  ],
  a: 1
},
/* ========== MCQ (NEW SET 2) ========== */

{
  type: "mcq",
  q: "A common mistake when defining a problem is:",
  options: [
    "Gathering too much data",
    "Focusing on root causes instead of symptoms",
    "Defining the problem too broadly or too narrowly",
    "Involving too many stakeholders"
  ],
  a: 2
},
{
  type: "mcq",
  q: "When evaluating alternative courses of action, a typical criterion is:",
  options: [
    "Manager's personal preference",
    "Ethical soundness",
    "Speed regardless of cost",
    "Popularity among subordinates"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Decision-making with sufficient information to know results of each alternative is:",
  options: ["Uncertainty", "Risk", "Certainty", "Ambiguity"],
  a: 2
},
{
  type: "mcq",
  q: "In a condition of risk, the decision maker:",
  options: [
    "Has complete information",
    "Lacks complete information but knows probabilities",
    "Has no information at all",
    "Relies only on intuition"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The directive decision style is marked by managers who:",
  options: [
    "Gather extensive data",
    "Make quick decisions with limited information",
    "Seek creative social input",
    "Focus on employee personal goals"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A manager who prefers complex solutions based on extensive data has a ______ decision style:",
  options: ["Directive", "Analytical", "Conceptual", "Behavioral"],
  a: 1
},
{
  type: "mcq",
  q: "The ethical principle of Autonomy emphasizes:",
  options: [
    "Doing no harm",
    "Freedom of choice and action",
    "Equal treatment",
    "Honoring commitments"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The principle of Nonmaleficence requires decisions to:",
  options: [
    "Cause as little harm as possible",
    "Maximize benefits",
    "Follow rules strictly",
    "Prioritize organizational goals"
  ],
  a: 0
},
{
  type: "mcq",
  q: "The primary goal of communication is NOT to:",
  options: [
    "Change behavior",
    "Eliminate all feedback",
    "Ensure understanding",
    "Persuade others"
  ],
  a: 1
},
{
  type: "mcq",
  q: "In communication, encoding refers to:",
  options: [
    "The channel used",
    "Receiver interpretation",
    "Translating message into symbols",
    "Physical barriers"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The component that completes the communication process is:",
  options: ["Channel", "Feedback", "Noise", "Decoding"],
  a: 1
},
{
  type: "mcq",
  q: "Intrapersonal communication is:",
  options: [
    "Between two people",
    "Self-talk forming feelings and biases",
    "Formal team interaction",
    "Mass media transmission"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Small group communication is important for:",
  options: [
    "Dream analysis",
    "Purely social relationships",
    "Decision-making and problem-solving",
    "One-way instructions"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Formal communication is characterized by:",
  options: [
    "Social grapevine",
    "Established by management and shown in charts",
    "Always informal",
    "Bypassing hierarchy"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Managers can use the informal grapevine to:",
  options: [
    "Replace formal channels",
    "Prevent rumors by providing correct facts",
    "Eliminate upward communication",
    "Enforce discipline"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Effective verbal communication should be:",
  options: [
    "Lengthy",
    "Brief, clear, and well-timed",
    "Monotone",
    "Jargon-heavy"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Non-verbal communication includes all EXCEPT:",
  options: [
    "Eye contact",
    "Written reports",
    "Body language",
    "Touch"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A communication barrier due to unclear structure is a:",
  options: [
    "Physical barrier",
    "System design fault",
    "Attitudinal barrier",
    "Physiological barrier"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Attitudinal barriers arise from:",
  options: [
    "Poor lighting",
    "Personality conflicts and resistance",
    "Language differences",
    "Faulty equipment"
  ],
  a: 1
},
{
  type: "mcq",
  q: "To improve communication, managers should:",
  options: [
    "Use complex media",
    "Assume understanding",
    "Examine purpose and objective",
    "Contradict actions and words"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Directing is initiated in the hierarchy from:",
  options: [
    "Middle management",
    "Supervisory level",
    "Top-most level",
    "External consultants"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Which element of directing guides employee efforts to accomplish work outputs?",
  options: ["Motivation", "Leadership", "Supervision", "Communication"],
  a: 2
},
{
  type: "mcq",
  q: "The principle of comprehension insists the receiver:",
  options: [
    "Agrees with the message",
    "Understands the information",
    "Responds immediately",
    "Passes it upward"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Directing relates to the human factor because:",
  options: [
    "It focuses on finances",
    "Human behavior is complex",
    "It replaces staffing",
    "It is purely technical"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The element involving transfer of information is:",
  options: ["Giving orders", "Supervision", "Motivation", "Communication"],
  a: 3
},
{
  type: "mcq",
  q: "A control measuring quantity, quality, cost, or time is a:",
  options: ["Input standard", "Output standard", "Concurrent control", "Preliminary control"],
  a: 1
},
{
  type: "mcq",
  q: "Comparison in control can use:",
  options: [
    "Eliminating standards",
    "Benchmarking and comparisons",
    "Ignoring past data",
    "Self-reports only"
  ],
  a: 1
},
{
  type: "mcq",
  q: "External controls include:",
  options: [
    "Personal objectives",
    "Supervision and appraisal systems",
    "Self-motivation",
    "Unstructured work"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A structured managerial problem is:",
  options: [
    "New and unexpected",
    "Familiar and straightforward",
    "Always a crisis",
    "Solved only by non-programmed decisions"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The conceptual decision style prefers:",
  options: [
    "Quick decisions",
    "Isolated data analysis",
    "Broad information and creativity",
    "Emotion-focused decisions"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The ethical principle of Fidelity requires managers to:",
  options: [
    "Distribute benefits equally",
    "Honor commitments",
    "Maximize overall good",
    "Avoid harm"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Diagonal communication occurs:",
  options: [
    "At same level",
    "From superior to subordinate",
    "Between different levels without direct authority",
    "Within same department"
  ],
  a: 2
},
{
  type: "mcq",
  q: "A physiological communication barrier is:",
  options: [
    "Organizational structure",
    "Poor attitudes",
    "Poor eyesight or hearing",
    "Technical jargon"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Communication occurring within your own mind is:",
  options: ["Interpersonal", "Small group", "Intrapersonal", "Mass"],
  a: 2
},
{
  type: "mcq",
  q: "The grapevine is:",
  options: [
    "Formal communication",
    "An informal morale and opinion network",
    "Always harmful",
    "Downward only"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Effective non-verbal communication EXCLUDES:",
  options: [
    "Personal appearance",
    "Body language",
    "Lengthy written reports",
    "Attending behavior"
  ],
  a: 2
},
{
  type: "mcq",
  q: "An electronic communication tool is:",
  options: [
    "Face-to-face meeting",
    "Instant messaging apps",
    "Suggestion box",
    "Policy handbook"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Upward communication aims to:",
  options: [
    "Issue commands",
    "Provide employee input and satisfaction",
    "Coordinate peers",
    "Contact externals"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Internal dialogue or self-talk is:",
  options: [
    "Oral communication",
    "Written communication",
    "Self-reflection",
    "Telemedicine"
  ],
  a: 2
},
{
  type: "mcq",
  q: "To overcome presentation barriers, information should be:",
  options: [
    "Complex",
    "Clear and understandable",
    "Only non-verbal",
    "Delivered without considering receiver"
  ],
  a: 1
}
];

console.log(questions.length); 
let index = 0;
let answers = Array(questions.length).fill(null);
let reviewMode = false;
let shuffledQuestions = [];
/* ========= ELEMENTS ========= */

const qText = document.getElementById("questionText");
const optionsDiv = document.getElementById("options");
const counter = document.getElementById("counter");
const progress = document.getElementById("progressBar");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("result");
const resultScore = document.getElementById("resultScore");
const resultPercent = document.getElementById("resultPercent");
/* ========= OPTIONS ========= */
function shuffleOptions(arr) {
  const array = [...arr];
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
function createOption(text, isCorrect) {
  const b = document.createElement("button");
  b.innerText = text;
  b.onclick = () => select(isCorrect, b);
  optionsDiv.appendChild(b);
}
function select(isCorrect, btn) {
  if (answers[index] !== null) return;

  answers[index] = isCorrect;

  const q = shuffledQuestions[index];

  [...optionsDiv.children].forEach(b => {
    b.disabled = true;

    // لو MCQ
    if (q.type === "mcq") {
      const correctText = q.options[q.a];

      if (b.innerText === correctText) {
        b.style.background = "#27ae60"; // الصح أخضر
      } else if (b === btn) {
        b.style.background = "#e74c3c"; // الغلط أحمر
      }
    }

    // لو True / False
    if (q.type === "tf") {
      if (
        (b.innerText === "True" && q.a === true) ||
        (b.innerText === "False" && q.a === false)
      ) {
        b.style.background = "#27ae60";
      } else if (b === btn) {
        b.style.background = "#e74c3c";
      }
    }
  });

  nextBtn.style.display = "inline-block";
}
function startQuiz() {
  index = 0;
  answers = Array(questions.length).fill(null);
  reviewMode = false;

  // ✅ اعمل نسخة بدل ما تغيّر الأصل
  shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
document.getElementById("questionsBtn").innerText =
  `Questions (${shuffledQuestions.length})`;
  document.getElementById("result").classList.remove("show");
  document.getElementById("home").style.display = "none";
  document.getElementById("quiz").style.display = "block";

  loadQuestion();
}
function loadQuestion() {
  optionsDiv.innerHTML = "";
  nextBtn.style.display = "none";

  const q = shuffledQuestions[index];
  qText.innerText = q.q;
  counter.innerText = `Question ${index + 1} / ${shuffledQuestions.length}`;
  progress.style.width = ((index + 1) / shuffledQuestions.length) * 100 + "%";

  if (q.type === "tf") {
    createOption("True", q.a === true);
createOption("False", q.a === false);
  } else {
    const options = q.options.map((text, i) => ({
  text,
  correct: i === q.a
}));

shuffleOptions(options).forEach(opt => {
  createOption(opt.text, opt.correct);
});
  }
}

function nextQuestion() {
  if (index < questions.length - 1) {
    index++;
    loadQuestion();
  } else {
    finishQuiz();
  }
}

function finishQuiz() {
  const score = answers.filter(a => a === true).length;
  const percent = Math.round((score / questions.length) * 100);

  // اخفي الكويز
  document.getElementById("quiz").style.display = "none";

  // النصوص
  resultScore.innerText = `Score: ${score} / ${questions.length}`;
  resultPercent.innerText = `Percentage: ${percent}%`;

  let title = "";
  if (percent >= 85) {
    title = "اول دفعععهه يعمممم";
  } else if (percent >= 70) {
    title = "شد شويه يعممم";
  } else {
    title = "انت اخرك تخش كليه البهاييييمممم";
  }

  document.getElementById("resultTitle").innerText = title;

  // أظهر النتيجة بالأنيميشن
  resultBox.classList.add("show");
}
function restartQuiz() {
  document.getElementById("result").classList.remove("show");
  startQuiz();
}
function toggleQuestions() {
  const list = document.getElementById("questionsList");
  list.classList.toggle("show");
  renderQuestionsList();
}

function renderQuestionsList() {
  const list = document.getElementById("questionsList");
  list.innerHTML = "";

  shuffledQuestions.forEach((q, i) => {
    const b = document.createElement("button");
    b.innerText = i + 1;

    if (answers[i] === null) {
      b.className = "q-unanswered";
    } else if (answers[i] === true) {
      b.className = "q-correct";
    } else {
      b.className = "q-wrong";
    }

    if (i === index) {
      b.style.outline = "3px solid #3498db";
    }

    b.onclick = () => {
      index = i;
      loadQuestion();
      renderQuestionsList();
    };

    list.appendChild(b);
  });
}
/* ========= MENU ========= */

const sideMenu = document.getElementById("sideMenu");
const overlay = document.getElementById("overlay");

function toggleMenu() {
  sideMenu.classList.toggle("show");
  overlay.classList.toggle("show");
}

function closeMenu() {
  sideMenu.classList.remove("show");
  overlay.classList.remove("show");
}

/* ========= DARK MODE ========= */

function toggleDark() {
  document.body.classList.toggle("dark");
}
